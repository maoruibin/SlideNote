# 侧边栏 More 菜单设计方案

> **日期**: 2025-01-21
> **状态**: 设计中

---

## 方案对比

### 方案 A：底部工具栏（推荐）

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]   ⋮   │  ← Toolbar
├────────────────────────────┤
│                             │
│  📌 AI 提示词               │  ← 笔记列表
│  常用命令                   │
│  服务器地址                 │
│                             │
├────────────────────────────┤
│  💬 意见反馈  ·  📦 v0.0.6  │  ← Footer（可选保留）
└────────────────────────────┘
```

点击 Toolbar 右侧 `⋮` 展开：

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]   ⋮   │
├────────────────────────────┤
│           ┌─────────────┐  │
│           │ 📤 导出笔记  │  │
│           │ 📥 导入备份  │  │
│           │ ───────────  │  │
│           │ 💬 意见反馈  │  │
│           │ 🔗 查看源码  │  │
│           └─────────────┘  │
│  📌 AI 提示词               │
│  常用命令                   │
└────────────────────────────┘
```

**优点**：
- 入口明显，不遮挡列表
- 符合常规工具栏认知
- 菜单位置固定，肌肉记忆好

**缺点**：
- 占用 Toolbar 空间

---

### 方案 B：列表底部独立按钮

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]        │
├────────────────────────────┤
│  📌 AI 提示词               │
│  常用命令                   │
│  服务器地址                 │
│                             │
├────────────────────────────┤
│     [··· 更多功能]          │  ← 独立一行按钮
└────────────────────────────┘
```

点击展开：

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]        │
├────────────────────────────┤
│  📌 AI 提示词               │
│  常用命令                   │
│  服务器地址                 │
│                             │
│  ┌─────────────────────┐   │
│  │  📤 导出笔记         │   │
│  │  📥 导入备份         │   │
│  │  ───────────────     │   │
│  │  💬 意见反馈         │   │
│  │  🔗 查看源码         │   │
│  └─────────────────────┘   │
└────────────────────────────┘
```

**优点**：
- 不占用 Toolbar 空间
- 按钮大，容易点击
- 菜单推开列表，不遮挡

**缺点**：
- 占用列表底部空间
- 列表项少时显得空

---

### 方案 C：浮动按钮（FAB）

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]        │
├────────────────────────────┤
│  📌 AI 提示词               │
│  常用命令                   │
│  服务器地址                 │
│                             │
│                     · · ·   │  ← 右下角浮动按钮
└────────────────────────────┘
```

点击展开：

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]        │
├────────────────────────────┤
│  📌 AI 提示词               │
│  常用命令                   │
│  服务器地址                 │
│                             │
│              ┌───────────┐ │
│              │📤 导出笔记│ │
│              │📥 导入备份│ │
│              │──────────│ │
│              │💬 意见反馈│ │
│              │🔗 查看源码│ │
│              └───────────┘ │
│                     · · ·   │
└────────────────────────────┘
```

**优点**：
- 不占用任何固定空间
- 符合移动端 FAB 认知
- 视觉现代

**缺点**：
- 遮挡列表内容
- 桌面端不太常见

---

### 方案 D：Footer 区域

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]        │
├────────────────────────────┤
│  📌 AI 提示词               │
│  常用命令                   │
│  服务器地址                 │
├────────────────────────────┤
│  💬 意见反馈     ⋮ 更多    │  ← Footer 右侧
└────────────────────────────┘
```

点击 `⋮ 更多` 展开：

```
┌────────────────────────────┐
│  🔍 搜索    [+ 新建]        │
├────────────────────────────┤
│  📌 AI 提示词               │
│  常用命令                   │
│  服务器地址                 │
├────────────────────────────┤
│  ┌─────────────────────┐   │
│  │  📤 导出笔记         │ ←  │ 菜单向上展开
│  │  📥 导入备份         │ ↕ │
│  │  ───────────────     │   │
│  │  🔗 查看源码         │   │
│  └─────────────────────┘   │
│  💬 意见反馈     ⋮ 更多    │
└────────────────────────────┘
```

**优点**：
- 不占用 Toolbar 和列表空间
- 与现有 Footer 自然融合
- 菜单向上有空间

**缺点**：
- Footer 变复杂

---

## 推荐

### 🏆 推荐：方案 A（Toolbar 右侧）

**理由**：
1. 符合常规应用的工具栏认知
2. 菜单位置固定，用户易形成肌肉记忆
3. 三点符号 `⋮` 是通用的"更多"标识
4. 侧边栏收起时也可以保留（图标形式）

### 备选：方案 D（Footer 右侧）

如果 Toolbar 空间紧张，可以考虑 Footer 方案。

---

## 菜单项设计

```
┌─────────────────────┐
│  📤 导出笔记         │
│  📥 导入备份         │
│  ───────────────     │
│  💬 意见反馈         │  → 外链
│  🔗 查看源码         │  → 外链
│                     │
│  📦 v0.0.6           │  → 灰色显示（未来可点击查看更新日志）
└─────────────────────┘
```

### 样式规范

```css
.more-menu {
  position: absolute;
  top: 48px;  /* Toolbar 下方 */
  right: 8px;
  width: 180px;
  background: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 100;
}

.more-menu-item {
  padding: 10px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: var(--font-size-sm);
}

.more-menu-item:hover {
  background: var(--color-bg-hover);
}

.more-menu-divider {
  height: 1px;
  background: var(--color-border-light);
  margin: 4px 0;
}
```

---

## 收起状态处理

侧边栏收起（90px）时，More 按钮的处理：

| 方案 | 处理方式 |
|------|----------|
| A（Toolbar） | 只显示 `⋮` 图标，菜单向左展开 |
| B（底部） | 隐藏或只显示图标 |
| C（FAB） | 保持不变 |
| D（Footer） | 隐藏（Footer 收起时整体隐藏） |

---

## 下一步

请确认选择哪个方案，然后我可以：
1. 编写详细的技术规范
2. 创建 HTML 原型图
3. 实现代码
